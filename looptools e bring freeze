-- ðŸ”¹ Carrega a UI Kavo
local ok, Kavo = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
end)
if not ok or not Kavo then return end

local Window = Kavo.CreateLib("Bring + Freeze + Tools + AntiSit + LoopBring", "DarkTheme")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

----------------------------------------------------
-- ðŸ“Œ Aba Controle (Bring / Freeze / Unfreeze)
----------------------------------------------------
local TabControl = Window:NewTab("Controle")
local SectionControl = TabControl:NewSection("AÃ§Ãµes")

local TargetName
local Dropdown

local function AtualizarDropdown()
    local lista = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= LocalPlayer then table.insert(lista, p.Name) end
    end
    if Dropdown then Dropdown:Remove() end
    Dropdown = SectionControl:NewDropdown("Selecionar Jogador", "", lista, function(name)
        TargetName = name
    end)
end
Players.PlayerAdded:Connect(AtualizarDropdown)
Players.PlayerRemoving:Connect(AtualizarDropdown)
AtualizarDropdown()

local function Bring(target)
    if LocalPlayer.Character and target.Character then
        local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        local targetHRP = target.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHRP then targetHRP.CFrame = hrp.CFrame + Vector3.new(3,0,0) end
    end
end
local function Freeze(target)
    if target.Character then
        for _, part in ipairs(target.Character:GetDescendants()) do
            if part:IsA("BasePart") then part.Anchored = true end
        end
    end
end
local function Unfreeze(target)
    if target.Character then
        for _, part in ipairs(target.Character:GetDescendants()) do
            if part:IsA("BasePart") then part.Anchored = false end
        end
    end
end

SectionControl:NewButton("Bring", "", function()
    if TargetName then local t = Players:FindFirstChild(TargetName) if t then Bring(t) end end
end)
SectionControl:NewButton("Freeze", "", function()
    if TargetName then local t = Players:FindFirstChild(TargetName) if t then Freeze(t) end end
end)
SectionControl:NewButton("Unfreeze", "", function()
    if TargetName then local t = Players:FindFirstChild(TargetName) if t then Unfreeze(t) end end
end)

----------------------------------------------------
-- ðŸ“Œ Aba Tools + Anti-Sit
----------------------------------------------------
local TabTools = Window:NewTab("Tools")
local SectionTools = TabTools:NewSection("Controle")

local LoopTools = false
local AntiSit = false

SectionTools:NewToggle("Loop Tools", "", function(state) LoopTools = state end)
SectionTools:NewToggle("Anti-Sit", "", function(state) AntiSit = state end)

task.spawn(function()
    while task.wait(0.1) do
        if LocalPlayer.Character then
            -- LoopTools
            if LoopTools then
                for _, tool in ipairs(LocalPlayer.Character:GetChildren()) do
                    if tool:IsA("Tool") then
                        tool.Parent = LocalPlayer.Character
                        pcall(function() tool:Activate() end)
                    end
                end
            end
            -- Anti-Sit
            if AntiSit then
                local humanoid = LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid")
                local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                if humanoid and hrp then
                    humanoid.Sit = false
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
                    for _, obj in ipairs(LocalPlayer.Character:GetDescendants()) do
                        if obj.Name == "SeatWeld" then obj:Destroy() end
                    end
                end
            end
        end
    end
end)

----------------------------------------------------
-- ðŸ“Œ Aba LoopBring (todos jogadores)
----------------------------------------------------
local TabBring = Window:NewTab("LoopBring")
local SectionBring = TabBring:NewSection("Controle")

local LoopBring = false
local Distance = 5

SectionBring:NewToggle("LoopBring Todos", "", function(state) LoopBring = state end)

RunService.Heartbeat:Connect(function()
    if LoopBring and LocalPlayer.Character then
        local myHRP = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if myHRP then
            for _, plr in ipairs(Players:GetPlayers()) do
                if plr ~= LocalPlayer and plr.Character then
                    local targetHRP = plr.Character:FindFirstChild("HumanoidRootPart")
                    if targetHRP then targetHRP.CFrame = myHRP.CFrame * CFrame.new(0,0,-Distance) end
                end
            end
        end
    end
end)
